

EOF1ValidInvalid:

# Try to create valid and invalid EOF1 encoded contracts
# See that only the valid ones turn into contracts
#
# Generated by src/Templates/EOF1/EOF1-generator.js

  env:
    currentCoinbase: 2adc25665018aa1fe0e6bc666dac8fc2697ff9ba
    currentDifficulty: '0x20000'
    currentGasLimit: "100000000"
    currentNumber: "1"
    currentTimestamp: "1000"
    previousHash: 5e20a0453cecd065ea59c37ac63e079ee08998b6045136a8ce6635c7912ec0b6

  _info:
    comment: Ori Pomerantz  qbzzt1@gmail.com

  pre:


    # User account
    a94f5374fce5edbc8e2a8697c15331677e6ebf0b:
      balance: 0x100000000000000000
      code: 0x
      nonce: 1
      storage: {}

  transaction:
    data:

      # Data 0
      - :label bad  :raw 0x386000600039600D3803600DF3ef020101000402000100030300010000000001305000ff

      # Data 1
      - :label bad  :raw 0x386000600039600D3803600DF3ef000001000402000100030300010000000001305000ff

      # Data 2
      - :label bad  :raw 0x386000600039600D3803600DF3ef000201000402000100030300010000000001305000ff

      # Data 3
      - :label bad  :raw 0x386000600039600D3803600DF3ef000102000100030300010100040000000001305000ff

      # Data 4
      - :label bad  :raw 0x386000600039600D3803600DF3ef00010100040300010000000001305000ff

      # Data 5
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000402000100030000000001305000

      # Data 6
      - :label bad  :raw 0x386000600039600D3803600DF3ef00010100040200010003030001ff00000001305000ff

      # Data 7
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000802000100030300010000000001305000ff

      # Data 8
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000402000100030300010000000001305000000bad

      # Data 9
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000402000100030300060000000001305000ff

      # Data 10
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000302000100030300010000000001305000ff

      # Data 11
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000402000100030300010000000002305000ff

      # Data 12
      - :label bad  :raw 0x386000600039600D3803600DF3ef0001010004020001000503000100000000013030505000ff

      # Data 13
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000802000200030003030001000100000200000001300100305000ff

      # Data 14
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000802000200030003030001000000000000000001B000023050B1ff

      # Data 15
      - :label bad  :raw 0x386000600039600D3803600DF3ef000101000402000100010300010000000000EFff



      # Data 16
      - :label good :raw 0x386000600039600D3803600DF3ef000101000402000100030300010000000001305000ff

      # Data 17
      - :label good :raw 0x386000600039600D3803600DF3ef0001010008020002000300050300010000000001000000023050003030505000ff

      # Data 18
      - :label good :raw 0x386000600039600D3803600DF3ef000101001002000400030003000300030300010000000001000000010000000100000001305000305000305000305000ff

      # Data 19
      - :label good :raw 0x386000600039600D3803600DF3ef000101000802000200030003030001000000000101000002305000300150ff

      # Data 20
      - :label good :raw 0x386000600039600D3803600DF3ef0001010008020002000100010300010000000000000100010030ff

      # Data 21
      - :label good :raw 0x386000600039600D3803600DF3ef000101000802000200030003030001000000000000000001B000003050B1ff

      # Data 22
      - :label good :raw 0x386000600039600D3803600DF3ef000101000402000100030300010000000000B00000ff

      # Data 23
      - :label good :raw 0x386000600039600D3803600DF3ef00010100080200020008000203000100000000020201000160FF60FFB000010001B1ff

      # Data 24
      - :label good :raw 0x386000600039600D3803600DF3ef0001010008020002000100050300010000000000000000020060006000FDff

      # Data 25
      - :label good :raw 0x386000600039600D3803600DF3ef000101000402000100010300010000000000FEff


    gasLimit:
    - 80000000
    gasPrice: 10
    nonce: 1
    to: ''
    secretKey: "45a915e4d060149eb4365960e6a7a45f334393093061116b197e3240065ff2d8"
    value:
    - 0

  expect:

    # Good, a contract got created
    - indexes:
        data:
        - :label good
      network:
        - '>=Shanghai'
      result:
        ec0e71ad0a90ffe1909d27dac207f7680abba42d:
          nonce: 1

    # Bad, no contract
    - indexes:
        data:
        - :label bad
      network:
        - '>=Shanghai'
      result:
        ec0e71ad0a90ffe1909d27dac207f7680abba42d:
          shouldnotexist: 1



